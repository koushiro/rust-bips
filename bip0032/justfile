# bip0032 specific justfile

# Import shared recipes from root
import "../justfile"

# Run a benchmark: `just bench <name> [args]`
[working-directory('benchmarks')]
bench name *args:
    @if [ -n "{{ args }}" ]; then \
        echo "Running benchmark \"{{ name }}\" with: {{ args }}"; \
        cargo bench --bench {{ name }} -- {{ args }}; \
    else \
        echo "Running benchmark \"{{ name }}\""; \
        cargo bench --bench {{ name }} -- --quiet; \
    fi

# Run all benchmarks: `just benches [args]`
[working-directory('benchmarks')]
benches *args:
    @if [ -n "{{ args }}" ]; then \
        echo "Running all benchmarks with: {{ args }}"; \
        cargo bench -- {{ args }}; \
    else \
        echo "Running all benchmarks"; \
        cargo bench -- --quiet; \
    fi
